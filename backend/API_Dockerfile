FROM python:3.12

LABEL maintainer="Andrew Knoesen"
# Installs python, removes cache file to make things smaller
RUN apt update -y &&  apt install -y cron
RUN rm -Rf /var/cache/apt

# Copies requirements.txt file into the container
COPY ./requirements.txt .

RUN pip install -r requirements.txt

COPY ./src ./src

COPY ./*.py .

# Installs dependencies found in your requirements.txt file
RUN python3 setup.py install

CMD ["fastapi", "run", "./src/API/API.py"]
